<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge"> -->
  <title>As the Crow Orbits --- Computation</title>
  <link rel="stylesheet" type="text/css" href="CrowStyle_Dynamic.css">

<style media="screen">
/* Elements */


</style>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js">
MathJax.Hub.Config({
 extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
 jax: ["input/TeX", "output/HTML-CSS"],
 tex2jax: {
     inlineMath: [ ['$','$'], ["\\(","\\)"] ],
     displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
 },
 "HTML-CSS": { availableFonts: ["TeX"] }
});
</script>
</head>
<body>
<div class="header" id="topofpage">
    <img src="FeynmanDiagramIcon.png" style="float:left; margin:10px 20px 0px 0px;height:80px;">

    <div style="float:left">
      <h1 style="float:left; margin:5px 0px 0px 0px;padding:0px 0px 0px 0px">David Yaylali</h1>
      <h2 style="margin:0px 0px 5px 0px;padding:0px 0px 0px 0px">Physics and Engineering</h2>
      <h4 style="margin:0px 0px 0px 0px;padding:0px 0px 0px 0px">The University of Arizona</h4>
    </div>

    <img src="HohmannIcon.png" style="margin:10px 20px 0 20px;width:80px;height:80px;">
</div>

<div class="row">

  <div class="col-2 col-s-4 menu">
    <ul>
      <a href="index.html"><li>Home</li></a>
      <a href="education.html"><li>Education</li></a>
      <a href="publications.html"><li>Publications</li></a>
      <a href="talks.html"><li>Talks</li></a>
      <!-- <a href="notes.html"><li>Running Notes</li></a> -->
      <a href="computation.html"><li id="curLink">Computation</li></a>
      <a href="misc.html"><li>Misc</li></a>
    </ul>
  </div>

  <div class="col-8 col-s-8">
    <p>Included here are a selection of neat computational tools and analyses.  I'll continue to upload new material as I'm able.</p>

    <div>
      <ul style="list-style-type:disc;">
        <li style="margin-bottom:5px"><a href="#porkchop">Generating Porkchop Plots</a></li>

        <li style="margin-bottom:5px"><a href="#LISAformation">Consensus Control for Spacecraft Formation Flying</a></li>

        <li style="margin-bottom:5px"><a href="#THandleSO3Tumbling">Simulating Rigid Body Motion</a></li>
      </ul>
    </div>

    <h2 id="porkchop">Generating Porkchop Plots!</h2>
    <p>When planning an interplanetary mission, say, from Earth to Mars, it's important to plan your route wisely.  It's also important to plan your departure time.  At any given time, Earth and Mars will be in different places along their elliptical orbits, and move along their orbits at different speeds.  As a result, the needed fuel and time-of-flight for the trip vary drastically depending on the this departure time. This information is efficiently encoded in the <i>porkchop plot,</i>
    <img class="displayed" src="Images/PorkchopPorkchop.jpg" alt="" style="width:90%; max-width:600px; min-width:200px">
    I guess they're called this because they can <i>vaguely</i> resemble a porkchop... I think whoever named it just forgot their lunch that day and was hungry. </p>

    <p>The idea behind porkchop plots is simple: along the <i>x</i>-axis is the departure time (usually in units of days or months for interplanetary missions), and along the <i>y</i>-axis is arrival time at the destination planet.  Upon these axes, one can plot a variety of things, including time-of-flight for the journey and the amount of fuel needed.  The latter quantity is typically plotted indirectly; it is often convenient to separately plot the characteristic energy ${\rm C}_3$, which describes the needed energy to initiate the trip, and $v_{\infty}^{-}$, which describes the arrival speed with respect to the target planet.  This is convenient since the trip is typically initiated by large launch systems which in many cases expend their fuel completely by the time the spacecraft leaves the influence of the Earth.  The quantity $v_{\infty}^{-}$ then characterizes the amount of <i>on-board</i> fuel needed (<i>i.e.</i>, the internal fuel within the spacecraft) in order to "stop" at the destination planet.</p>

    <p>Ideally, it would be nice to reduce all three quantities (TOF, ${\rm C}_3$, and $v_{\infty}^{-}$) simultaneously.  Since fuel spent and time-of-flight are typically inversely proportional, however, there is some trade-off that is invariably necessary.  Porkchop plots are key to understanding these necessary trade-offs in order to plan the mission. </p>

    <p> <a href="Code/PorkchopPlots_MATLAB.zip">Attached here</a> is a simple MATLAB code used to generate porkchop plots for trajectories between any two planets within the Solar System.  The date for the trip is a free parameter that can be set.  For the default choices within the code (Earth-to-Mars, 2005), this code outputs...
    <img class="displayed" src="Images/PorkchopPlot.jpg" alt="" style="width:90%; margin-top:15px; margin-bottom:15px; max-width:600px; min-width:200px">
    Note that to run this code, the MATLAB Aerospace Toolbox along with the JPL <a href="https://www.mathworks.com/matlabcentral/fileexchange/46671-ephemeris-data-for-aerospace-toolbox" target="_blank">Ephemerides support package</a> is needed.  The code works by solving <a href="https://en.wikipedia.org/wiki/Lambert%27s_problem" target="_blank">Lambert's problem</a> at each grid-point in the porkchop plot.  The specific method of solution to Lambert's problem used in this code is outlined in Section 5.3 of <i>Orbital Mechanics for Engineering Students</i>, by H. Curtis (2005).
    </p>
    <p style="margin-top:15px; margin-bottom:45px"><a href="#topofpage">Back to Top</a></p>


    <h2 id="LISAformation">Consensus Control for Spacecraft Formation Flying</h2>
    <p>In <i>cooperative consensus control</i>, vehicles share information with one another, and this shared information can be used to build control laws which bring the system as a whole to some consensus in position and velocity.   </p>
    <IMG class="displayed" src="Images/CommunicationTopology.png" alt="LISA Formation Animation" style="width:230px">
    <p>For instance, for the above system, SC1 receives information from both SC2 and SC3, while SC2 and SC3 only receive information from SC1.  For this communication topology, a simple <i>consensus control law</i> takes the form
    \begin{align}
    u_1 &= a_{12}(x_2-x_1) + a_{13}(x_3-x_1) \\
    u_2 &= a_{21}(x_1-x_2)  \\
    u_3 &= a_{31}(x_1-x_3)
    \end{align}
    where $x_i$ is the state of spacecraft $i$.  The $a_{ij}$ coefficients capture the communication flow in the system, and in this case only the non-zero $a_{ij}$ factors are shown.  Since SC2 and SC3 do not communicate, SC2 does not know the position/velocity of SC3 and vise versa... that's why there's no term in the control law proportional to $(x_2-x_3)$.</p>
    <p>
    This control law therefore <i>feeds back</i> the position and velocity differences to the dynamics of the system (when this information is available), so that as the system evolves these position/velocity differences are driven to zero.  That is, this control protocol drives the system to <i>consensus</i>.
    </p>
    <p>Under control laws of the above type, the <i>closed-loop</i> dynamics can be written in a very concise way:
      $$\dot {\pmb x} = (I_N \otimes A - L \otimes BK)\pmb{x}.$$
    Here, $A$ captures the natural dynamics of each vehicle, $B$ captures Newton's second law (that forces cause accelerations), $K$ captures the relative weights of the position and velocity feedback terms (taken to be 1-to-1 in the $u_i$ control laws written above), and $\pmb{x}$ is a vector containing the collection of all vehicle states.  The graph Laplacian matrix $L$ captures the communication topology.
    </p>
    <p>Consensus control laws can be used to build vehicle formations.  As discussed in my <a href="Yaylali_Thesis_UAFormat.pdf" target="_blank">masters thesis</a> (see &sect; 3.3), one way to do this is to define <i>virtual</i> leaders, and build a leader-follower consensus control law for each vehicle.  If the virtual leaders follow some prescribed trajectory, the physical vehicles will then be drawn to these desired trajectories, regardless of initial conditions.</p>
    <p>As a neat example, consider the <a href="https://en.wikipedia.org/wiki/Laser_Interferometer_Space_Antenna" target="_blank">Laser Interferometer Space Antenna</a> (LISA), a proposed space-based gravitational wave observatory.
        <IMG class="displayed" src="Images/LISAdiagram.png" alt="LISA Formation Diagram" style="width:350px">
    The idea for this mission is to place three spacecraft in a triangular formation, the center of which orbits the Sun.  The spacecraft are therefore in a circular relative orbit about each other... that is, if you remain at the center of the formation, you will see the three spacecraft move along a circle, separated by 120&deg;.
    </p>
    <p>Imagine how such a formation is initially built.  One would assume that all three SC are launched by a single launch vehicle to the proper Earth-trailing heliocentric orbit:
        <IMG class="displayed" img src="Images/LISA_LaunchDiagram.png" alt="LISA Formation Animation"  style="width:500px">
    Taking the position of the initially bundled spacecraft as the center of relative-orbit coordinate system, one can now utilize three virtual leader-follower consensus control laws to properly position each spacecraft along a circular relative orbit.  The formation of the LISA constellation under this control protocol is illustrated below:
    <img class="displayed" src="Images/LISAConsensusFormationAnimation.gif" alt="LISA Formation Animation">
    We can also plot the LVLH position vector magnitudes and interspacecraft distances as a function of time.  The former should approach a constant (indicating circular relative orbits); the latter should approach a constant as well, indicating that the formation becomes a constant equilateral triangle.
    <img class="displayed" src="Images/LISAManeuverGeometry.jpg" alt="LISA Maneuver Geometry" style="width:90%; min-width:550px">
    </p>
    <p>
    Again, for a more detailed description of this maneuver, see &sect; 3.3 of my <a href="Yaylali_Thesis_UAFormat.pdf" target="_blank">masters thesis</a>.  The MATLAB code used to simulate this system (and generate the above animation) can be <a href="Code/LISAConsensusFormationControl.zip">downloaded here</a>.
    </p>
    <p style="margin-top:15px; margin-bottom:45px"><a href="#topofpage">Back to Top</a></p>


    <h2  id="THandleSO3Tumbling">Simulating Rigid Body Motion</h2>
    <h3>The spinning "T-handle" in space!</h3>
    <p>The natural motion of a rotating body can be completely surprising to most people (including myself!) when first viewed in the proper setting.  For instance, when the "falling" motion of a body is removed from the picture (as it is in orbit, on the ISS), a rotating body such as this "T-handle" behaves very strangely: </p>
    <div align="center">
      <iframe width="448" height="252" src="https://www.youtube.com/embed/1n-HMSCDYtM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <p>This motion of course arises from the coupling between the orthoginal angular velocity components in Euler's equations (with zero external torque),
      \begin{align}
      I_1 \dot{\omega}_1 + (I_3-I_2) \omega_2 \omega_3 &= 0 \\
      I_2 \dot{\omega}_2 + (I_1-I_3) \omega_1 \omega_3 &= 0  \\
      I_3 \dot{\omega}_3 + (I_2-I_1) \omega_1 \omega_2 &= 0,
      \end{align}
    where $I_i$ are the principle moments of inertia of the rotating body and $\omega_i$ are the components of angular velocity (in the rotating frame fixed to the body) with respect to the principle axes.  For a very nice exposition of this material, written by my undergraduate research adviser Nick Wheeler,  <a href="https://www.reed.edu/physics/faculty/wheeler/documents/Classical%20Mechanics/Class%20Notes/Chapter%202.pdf" target="_blank">see here.</a>  Long story short, a rigid body such as a book or this T-handle can stably tumble about its "shortest" and "longest" axes, but not about its intermediate axis.</p>

    <p>Simulating this rotating "T-handle" numerically is a very illuminating exercise, as it involves conceptualization of and transformation between rotating reference frames, dynamics of rigid bodies, and numerical integration.  <a href="Code/SimulateTumblingSO3.zip">This cute little code </a> performs this within MATLAB in the formalism of the Lie group ${\rm SO}(3)$, the rotation group.  The state of the rigid body at any time is represented by the group members $R$, which are simply the rotation matrices representing its current orientation. In terms of ${\rm SO}(3)$, Euler's equations (without torque) can be expressed as
    \[
    J \dot{\boldsymbol{\omega}} = - \boldsymbol{\omega}^{\times}J \boldsymbol{\omega}.
    \]
    Using this code, one finds a very nice replication of the strange behavior seen in the above video (the black, red, and blue rods represent the (orthogonal) principle axis corresponding to the T-handle):
    <img class="displayed" src="RigidBodyTumblingExample.gif" alt="animated T-handle"> </p>
    <p style="margin-top:15px; margin-bottom:45px"><a href="#topofpage">Back to Top</a></p>
    <!-- <h2>Rectilinear + Rigid Body Motion... in SE(3)</h2>
    <p>The above example...</p> -->




  </div>

</div>

<div class="footer">

</div>

</body>
</html>
